<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Ptolemy</title>
  <script src="munich2.osm.js"></script>
  <script src="src/core.js"></script>
  <script src="src/tiles.js"></script>
  <script src="src/render.js"></script>
  <style>
polyline {
  fill: none; stroke: black; stroke-width: 0.5px;
}
canvas {
  border: 1px solid black; height: 570px; width: 700px
}
  </style>
</head>
<body>
  <canvas id="canvas" height="570" width="700"></canvas>

  <script type="text/javascript">
    var CURRENT_ZOOM = 15;

    var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');

    // --- Add margin around the map and color background ---
    var mapMargin = 10;
    var canvasWidth = canvas.width - 2 * mapMargin;
    var canvasHeight = canvas.height - 2 * mapMargin;
    ctx.translate(mapMargin, mapMargin);

    // Draw the background of the map.
    ctx.fillStyle = 'rgb(237, 230, 220)';
    ctx.fillRect(0, 0, canvasWidth, canvasHeight);

    // --- Translate the canvas context to make drawing go at the right spot ---
    var bounds = MAP_DATA.bounds;

    var pixelPerMeter = calcPixelPerMeter(CURRENT_ZOOM);
    ctx.translate(-bounds.minx * pixelPerMeter, -bounds.miny * pixelPerMeter);
    
    render();
  </script>

</body>
</html>
